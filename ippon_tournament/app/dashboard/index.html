<h3>
    Competition settings -
    <small>
        {{main.actualCompetition.name}}
    </small>
</h3>
<br/>
<butto class="btn btn-primary" ng-click="vm.addTatami()">
    Add tatami
</butto>
<br/>
<table class="table" style="width:80%">
    <thead>
        <tr>
            <!--   <th>
                
            </th> -->
            <th style="width:60%">
                Details
            </th>
            <th>
            </th>
        </tr>
    </thead>
    <tbody>
        <tr ng-repeat="tatami in vm.tatamis">
            <!--  <td>
                <button ng-click="vm.cancelPlayer(splayer, $index)">
                    <i class="fa fa-minus fa-2">
                    </i>
                </button>
            </td> -->
            <td>
                <table class="tatami-data-table" width="100%">
                    <thead>
                        <tr>
                            <th>Name:</th>
                            <th width="200px">Judges:</th>
                            <th>Categories:</th>
                            <th>Staff:</th>
                        </tr>

                    </thead>
                    <tbody>
                        <tr>
                            <td>{{tatami.name}}</td>
                            <td><span ng-repeat="judge in tatami.judges">
                                {{judge.firstname}}
                                {{judge.lastname}}
                                <br/>
                            </span></td>
                            <td><span ng-repeat="cat in tatami.categories">
                                {{cat.name}}
                                <br/>
                            </span></td>
                            <td><span>
                                {{tatami.staff.email}}                              
                                <br/>
                            </span></td>
                        </tr>
                        
                    </tbody>
                </table>                
            </td>
            <td style="text-align:right">
                <button class="btn btn-sm btn-primary" ng-click="vm.addJudges(tatami._id)">
                    Add judges
                </button>
                <button class="btn btn-sm btn-primary" ng-click="vm.addFights(tatami._id)">
                    Add fights
                </button>
                <button class="btn btn-sm btn-primary" ng-click="vm.addStuff(tatami._id)">
                    Add stuff
                </button>
                <button class="btn btn-sm btn-danger" ng-click="vm.deleteTatami(tatami._id)">
                    Delete
                </button>
            </td>
        </tr>
    </tbody>
</table>
<div aria-hidden="true" aria-labelledby="myModalLabel" class="modal fade" id="addJudgesModal" role="dialog" tabindex="-1">
    <form method="post">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">
                            ×
                        </span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        Add Judges
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-container">
                        <div class="form-group">
                            <label for="">
                                Select judges
                            </label>
                            <!-- <input class="form-control" id="player.firstname" ng-model="vm.player.firstname" required="" type="text"/> -->
                            <select class="form-control" id="judgesSelect" multiple="multiple" ng-change="vm.changeJudges(vm.actualTatami)" ng-model="vm.addingJudges" ng-options="judge as judge.firstname + ' ' + judge.lastname for judge in  vm.judges">
                                <!--   <select  multiple="multiple" class="form-control" id="judgesSelect">
                           		<option ng-repeat="judge in vm.judges" value="{{judge._id}}">
                           			{{judge.firstname}}  {{judge.lastname}}
                           		</option>
                           </select> -->
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal" type="button">
                        Close
                    </button>
                    <button class="btn btn-primary" ng-click="vm.saveJudgesOnTatami()" type="button">
                        Save changes
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
<div aria-hidden="true" aria-labelledby="myModalLabel" class="modal fade" id="addFightsModal" role="dialog" tabindex="-1">
    <form method="post">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">
                            ×
                        </span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        Add Fights
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-container">
                        <div class="form-group">
                            <label>
                                Select categories
                            </label>
                            <select class="form-control" id="categoriesSelect" multiple="multiple" ng-model="vm.addingCategorie" ng-options="categorie as categorie.name + ' ('+categorie.sex +')' for categorie in  vm.categories">
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal" type="button">
                        Close
                    </button>
                    <button class="btn btn-primary" ng-click="vm.saveCategoriesOnTatami()" type="button">
                        Save changes
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>
<div aria-hidden="true" aria-labelledby="myModalLabel" class="modal fade" id="addStuffModal" role="dialog" tabindex="-1">
    <form method="post">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                        <span aria-hidden="true">
                            ×
                        </span>
                    </button>
                    <h4 class="modal-title" id="myModalLabel">
                        Add Stuff
                    </h4>
                </div>
                <div class="modal-body">
                    <div class="form-container">
                        <div class="form-group">
                            <label>
                                Select staff
                            </label>
                             <select class="form-control" id="staffSelect"  ng-model="vm.addingStaff" ng-options="staff as staff.email for staff in  vm.staffs"/>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-secondary" data-dismiss="modal" type="button">
                        Close
                    </button>
                   <button class="btn btn-primary" ng-click="vm.saveStaffOnTatami()" type="button">
                        Save changes
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>